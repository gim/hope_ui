// http://www.oakcitygraphics.com/jquery/jqURL/jqURLdemo.html
jQuery.jqURL={url:function(a){a=jQuery.extend({win:window},a);return a.win.location.href},loc:function(a,b){b=jQuery.extend({win:window,w:500,h:500,wintype:"_top"},b);if(!b.t)b.t=screen.height/2-b.h/2;if(!b.l)b.l=screen.width/2-b.w/2;if(b.wintype=="_top")b.win.location.href=a;else open(a,b.wintype,"width="+b.w+",height="+b.h+",top="+b.t+",left="+b.l+",scrollbars,resizable")},qs:function(a){a=jQuery.extend({ret:"string",win:window},a);if(a.ret=="string")return jQuery.jqURL.url({win:a.win}).split("?")[1];
else if(a.ret=="object"){var b={};if(a=jQuery.jqURL.url({win:a.win}).split("?")[1]){a=a.split("&");for(i=0;i<a.length;i++){var c=a[i].split("=");b[c[0]]=c[1]}}return b}},strip:function(a){a=jQuery.extend({keys:"",win:window},a);if(jQuery.jqURL.url().indexOf("?")==-1)return jQuery.jqURL.url({win:a.win});else if(a.keys){var b=jQuery.jqURL.qs({ret:"object",win:a.win}),c=0,d=jQuery.jqURL.url({win:a.win}).split("?")[0]+"?",f="";for(var e in b)if(a.keys.indexOf(e)==-1){f=c?"&":"";d=d+f+e+"="+b[e];c++}return d}else return jQuery.jqURL.url({win:a.win}).split("?")[0]},
get:function(a,b){b=jQuery.extend({win:window},b);qsobj=jQuery.jqURL.qs({ret:"object",win:b.win});return qsobj[a]},set:function(a,b){b=jQuery.extend({win:window},b);var c=jQuery.jqURL.qs({ret:"object",win:b.win});for(var d in a)c[d]=a[d];a="";d=0;var f="";for(var e in c){f=d?"&":"";a=a+f+e+"="+c[e];d++}return jQuery.jqURL.strip({win:b.win})+"?"+a}};
